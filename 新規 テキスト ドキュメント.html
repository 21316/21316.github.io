<head>
  <title>Recaptcha v3 Example</title>
  <script src="https://www.google.com/recaptcha/api.js?render=YOUR_SITE_KEY"></script>
</head>
<body>
  <form id="my-form" action="YOUR_BACKEND_URL" method="POST">
    <input type="text" name="username" required>
    <input type="password" name="password" required>
    <button type="submit">Submit</button>
  </form>

  <script>
    grecaptcha.ready(function() {
      document.getElementById('my-form').addEventListener('submit', function(event) {
        event.preventDefault();  // デフォルトのフォーム送信を防ぐ
        grecaptcha.execute('YOUR_SITE_KEY', {action: 'submit'}).then(function(token) {
          // トークンをフォームに追加
          var form = document.getElementById('my-form');
          var input = document.createElement('input');
          input.type = 'hidden';
          input.name = 'recaptcha_response';
          input.value = token;
          form.appendChild(input);
          // フォーム送信を行う
          form.submit();
        });
      });
    });
  </script>
</body>
